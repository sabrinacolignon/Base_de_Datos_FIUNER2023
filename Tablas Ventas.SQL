-- Generada para Postgress 14 el 24/04/22 para el curso DB de la TUPED - FINUER
--

CREATE TABLE CLIENTES
 (ID_CLIENTE NUMERIC(6,0) DEFAULT 0 NOT NULL
 ,APELLIDOS VARCHAR(25) NOT NULL
 ,NOMBRES VARCHAR(30) NOT NULL
 ,DOMICILIO VARCHAR(50) NOT NULL
 ,COD_POST_ZONA VARCHAR(3)
 ,TELEFONO VARCHAR(30)
 ,NIVEL_CREDITO VARCHAR(10)
 ,COD_POST NUMERIC(4,0) NOT NULL
 ,COD_POST_AUX NUMERIC(2,0) NOT NULL
 ,ID_VEND NUMERIC(3,0)
 )
;

CREATE TABLE RENGLONES_PDO
 (ID_RENGLON NUMERIC(7,0) DEFAULT 0 NOT NULL
 ,CANTIDAD NUMERIC(3,0) DEFAULT 0 NOT NULL
 ,PRECIO_UNITARIO NUMERIC(7,2) DEFAULT 0 NOT NULL
 ,CANTIDAD_ENVIADA NUMERIC(3,0) DEFAULT 0
 ,ID_PEDIDO NUMERIC(8,0) NOT NULL
 ,ID_PRODUCTO NUMERIC(7,0) NOT NULL
 )
;

CREATE TABLE PEDIDOS
 (ID_PEDIDO NUMERIC(8,0) DEFAULT 0 NOT NULL
 ,FECHA_RECEPCION DATE NOT NULL
 ,FECHA_ESTIMADA_ENTREGA DATE
 ,FECHA_ENTREGA DATE
 ,TOTAL NUMERIC(7,2) DEFAULT 0
 ,PEDIDO_CUMPLIDO VARCHAR(1) NOT NULL
 ,ID_CLIENTE NUMERIC(6,0) NOT NULL
 ,ID_VEND NUMERIC(3,0) NOT NULL
 )
;

CREATE TABLE PROVINCIAS
 (ID_PROV VARCHAR(1) NOT NULL
 ,NOMBRE VARCHAR(30) NOT NULL
 )
;

CREATE TABLE ZONAS
 (ID_ZONA NUMERIC(1,0) DEFAULT 0 NOT NULL
 ,COD_POST_MIN NUMERIC(4,0) DEFAULT 0 NOT NULL
 ,COD_POST_MAX NUMERIC(4,0) DEFAULT 0 NOT NULL
 ,DESCRIPCION VARCHAR(15) NOT NULL
 )
;

CREATE TABLE HISTORIA_VTAS
 (ID_VEND NUMERIC(3,0) DEFAULT 0 NOT NULL
 ,FECHA_COPIA DATE NOT NULL
 ,CUOTA_VTAS NUMERIC(8,2) DEFAULT 0
 ,VENTAS NUMERIC(8,2) DEFAULT 0
 )
;

COMMENT ON COLUMN HISTORIA_VTAS.CUOTA_VTAS IS 'Cuota de ventas mensuales histórica'
;

COMMENT ON COLUMN HISTORIA_VTAS.VENTAS IS 'Ventas reales mensuales históricas'
;

CREATE TABLE STOCK_LOCAL
 (STOCK NUMERIC(5,0) DEFAULT 0 NOT NULL
 ,PUNTO_REPEDIDO NUMERIC(5,0) DEFAULT 0
 ,CANTIDAD_MAXIMA NUMERIC(5,0) DEFAULT 0
 ,ID_PRODUCTO NUMERIC(7,0) NOT NULL
 ,ID_OFICINA NUMERIC(2,0) NOT NULL
 )
;

CREATE TABLE PROVEEDORES
 (ID_PROVEEDOR NUMERIC(4,0) DEFAULT 0 NOT NULL
 ,NOMBRE VARCHAR(30) NOT NULL
 ,DOMICILIO VARCHAR(50)
 ,COD_POST_ZONA VARCHAR(3)
 ,TELEFONO VARCHAR(30)
 ,CONTACTO VARCHAR(50)
 ,COD_POST NUMERIC(4,0) NOT NULL
 ,COD_POST_AUX NUMERIC(2,0) NOT NULL
 )
;

CREATE TABLE PRODUCTOS
 (ID_PRODUCTO NUMERIC(7,0) DEFAULT 0 NOT NULL
 ,DESCRIPCION VARCHAR(50) NOT NULL
 ,FECHA_BAJA DATE
 ,ID_PROVEEDOR NUMERIC(4,0) NOT NULL
 ,PRECIO_UNITARIO NUMERIC(7,2) DEFAULT 0 NOT NULL
 )
;

CREATE TABLE OFICINAS_VTAS
 (ID_OFICINA NUMERIC(2,0) DEFAULT 0 NOT NULL
 ,NOMBRE VARCHAR(30) NOT NULL
 ,DOMICILIO VARCHAR(50) NOT NULL
 ,COD_POST_ZONA VARCHAR(3)
 ,OBJETIVO_VTAS NUMERIC(9,2) DEFAULT 0
 ,VENTAS NUMERIC(9,2) DEFAULT 0
 ,COD_POST NUMERIC(4,0) NOT NULL
 ,COD_POST_AUX NUMERIC(2,0) NOT NULL
 ,ID_VEND NUMERIC(3,0)
 )
;

COMMENT ON COLUMN OFICINAS_VTAS.OBJETIVO_VTAS IS 'Objetivo de ventas mensuales'
;

COMMENT ON COLUMN OFICINAS_VTAS.VENTAS IS 'Ventas reales mensuales'
;

CREATE TABLE VENDEDORES
 (ID_VEND NUMERIC(3,0) DEFAULT 0 NOT NULL
 ,APELLIDOS VARCHAR(25) NOT NULL
 ,NOMBRES VARCHAR(30) NOT NULL
 ,DOMICILIO VARCHAR(50) NOT NULL
 ,COD_POST_ZONA VARCHAR(3)
 ,FECHA_NACIMIENTO DATE NOT NULL
 ,CARGO VARCHAR(30) NOT NULL
 ,FECHA_INGRESO DATE NOT NULL
 ,CUOTA_VTAS NUMERIC(8,2) DEFAULT 0
 ,VENTAS NUMERIC(8,2) DEFAULT 0
 ,COMISION NUMERIC(5,2) DEFAULT 0
 ,ID_VEND_RESPONDE_A NUMERIC(3,0)
 ,ID_OFICINA NUMERIC(2,0) NOT NULL
 ,COD_POST NUMERIC(4,0) NOT NULL
 ,COD_POST_AUX NUMERIC(2,0) NOT NULL
 )
;

COMMENT ON COLUMN VENDEDORES.CUOTA_VTAS IS 'Cuota de ventas mensuales'
;

COMMENT ON COLUMN VENDEDORES.VENTAS IS 'Ventas reales mensuales'
;

COMMENT ON COLUMN VENDEDORES.COMISION IS 'Comisión por cada venta'
;

CREATE TABLE LOCALIDADES
 (COD_POST NUMERIC(4,0) DEFAULT 0 NOT NULL
 ,COD_POST_AUX NUMERIC(2,0) DEFAULT 0 NOT NULL
 ,NOMBRE VARCHAR(30) NOT NULL
 ,ID_PROV VARCHAR(1) NOT NULL
 )
;

